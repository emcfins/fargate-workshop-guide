<!DOCTYPE html>
<head>
<title>Lab Guide :: Running Containers on AWS Fargate</title>
<meta charset='utf-8'>
<meta content='width=device-width, initial-scale=1, shrink-to-fit=no' name='viewport'>
<link href='https://a0.awsstatic.com/main/images/site/fav/favicon.ico' rel='icon' type='image/ico'>
<link crossorigin='anonymous' href='https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css' integrity='sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M' rel='stylesheet'>
<link href='css/styles.css' rel='stylesheet'>
<link href='css/syntax.css' rel='stylesheet'>
</head>
<body>
<div class='container'>
<nav class='navbar navbar-dark bg-dark'>
<a class='navbar-brand' href='/'>
<img src='images/aws.png'>
</a>
</nav>
<div class='row'>
<div class='col-12 col-xl-9 col-lg-9' id='guide'>
<h1>Running Containers on AWS Fargate</h1>
<h2 id="create-a-docker-image-repository">Create a Docker Image Repository</h2>
<p>In this module, we‚Äôll create a Docker container image repository in Amazon Elastic Container Registry (ECR). Amazon ECR is a fully-managed Docker container registry that makes it easy for developers to store, manage, and deploy Docker container images without worrying about managing or scaling the underlying infrastructure.</p>
<p>Amazon ECR is integrated with Amazon ECS to simplify production deployment workshop and AWS IAM which provides provides resource-level control of each repository.</p>
<p>We‚Äôll use this repository to store our Docker container images so that we can deploy them on top of AWS Fargate via Amazon ECS.</p>
<h3 id="implementation">Implementation</h3>
<p>Create a new repository in Amazon ECR called <code>workshop</code>. Note the <strong>Repository URI</strong> of the repository.</p>
<p><strong>‚úÖ Step-by-step Instructions (AWS Management Console)</strong></p>
<ol type="1">
<li><p>Go to the AWS Management Console, click <strong>Services</strong> then select <strong>Elastic Container Service</strong> under Compute.</p></li>
<li><p>Click <strong>Repositories</strong> in the left-hand navigation.</p></li>
<li><p>Click <strong>Get started</strong> if this is your first visit to the Amazon ECR console, or <strong>Create repository</strong> if you‚Äôve used it before.</p></li>
<li><p>Enter <code>workshop</code> into <strong>Repository name</strong>.</p></li>
<li><p>Note the contents of the <strong>Repository URI</strong> field.</p>
<p><img src="images/repository-create-form.png" /></p></li>
<li><p>Click <strong>Next step</strong>. Your repository has been created.</p>
<p><img src="images/repository-created.png" /></p></li>
</ol>
<p><strong>‚úÖ Step-by-step Instructions (AWS CLI)</strong></p>
<ol type="1">
<li><p>Switch to the tab where you have your Cloud9 environment opened.</p></li>
<li><p>Use the AWS CLI to create the repository by running <code>aws ecr create-repository --repository-name workshop</code> in the Cloud9 terminal:</p>
<pre class="console"><code>Admin:~/environment $ aws ecr create-repository --repository-name workshop</code></pre>
<div class="sourceCode" id="cb2"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2">    <span class="dt">&quot;repository&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb2-3" data-line-number="3">        <span class="dt">&quot;registryId&quot;</span><span class="fu">:</span> <span class="st">&quot;123456789012&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb2-4" data-line-number="4">        <span class="dt">&quot;repositoryName&quot;</span><span class="fu">:</span> <span class="st">&quot;workshop&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb2-5" data-line-number="5">        <span class="dt">&quot;repositoryArn&quot;</span><span class="fu">:</span> <span class="st">&quot;arn:aws:ecr:us-east-1:123456789012:repository/workshop&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6">        <span class="dt">&quot;createdAt&quot;</span><span class="fu">:</span> <span class="fl">1515180775.0</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb2-7" data-line-number="7">        <span class="dt">&quot;repositoryUri&quot;</span><span class="fu">:</span> <span class="st">&quot;123456789012.dkr.ecr.us-east-1.amazonaws.com/workshop&quot;</span></a>
<a class="sourceLine" id="cb2-8" data-line-number="8">    <span class="fu">}</span></a>
<a class="sourceLine" id="cb2-9" data-line-number="9"><span class="fu">}</span></a></code></pre></div></li>
<li><p>Note the contents of the <strong>repositoryUri</strong> field.</p></li>
</ol>
<h3 id="recap">‚≠ê Recap</h3>
<p>üîë Amazon ECR is a fully managed Docker image registry that makes it easy to store built Docker images in the cloud without worrying about managing or scaling the underlying infrastructure.</p>
<p>üõ†Ô∏è`You created a Docker image repository in Amazon ECR. The repository has a URI which you‚Äôve noted for use in the coming modules.</p>
<h3 id="next">Next</h3>
<p>‚úÖ Proceed to the next module, <a href="build-and-push-a-docker-image.html">Build and Push a Docker Image</a>, wherein we‚Äôll clone a sample application from GitHub, build a Docker container from it, and push that into our new repository in Amazon ECR.</p>

</div>
<div class='col-3 d-none d-lg-block d-xl-block'>
<div class='toc'>
<strong>Contents</strong>
<ul>
<li>
<a href='index.html'>Welcome</a>
</li>
<li>
<a href='setup.html'>Setup</a>
<ul>
<li>
<a href='setup.html#aws-account'>AWS Account</a>
</li>
<li>
<a href='setup.html#region'>Region</a>
</li>
<li>
<a href='setup.html#aws-cloud9-ide'>AWS Cloud9 IDE</a>
</li>
</ul>
</li>
<li>
<a href='index.html#sections'>Sections</a>
<ul>
<li>
<a href='index.html#introduction'>Introduction</a>
<ol>
<li>
<a href='getting-started-with-amazon-ecs-using-aws-fargate.html'>Getting Started with Amazon ECS using AWS Fargate</a>
</li>
<li>
<a href='create-a-docker-image-repository.html'>Create a Docker Image Repository</a>
</li>
<li>
<a href='build-and-push-a-docker-image.html'>Build and Push a Docker Image</a>
</li>
<li>
<a href='create-a-service.html'>Create a Service</a>
</li>
</ol>
</li>
<li>
<a href='index.html#ci-cd'>CI/CD</a>
</li>
<ol>
<li>
<a href='build-a-continuous-deployment-pipeline.html'>Build a Continuous Deployment Pipeline</a>
</li>
</ol>
</ul>
</li>
</ul>
</div>

</div>
</div>
</div>
<textarea id='buffer'></textarea>
<footer></footer>
<script crossorigin='anonymous' integrity='sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN' src='https://code.jquery.com/jquery-3.2.1.slim.min.js'></script>
<script crossorigin='anonymous' integrity='sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4' src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js'></script>
<script crossorigin='anonymous' integrity='sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1' src='https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js'></script>
<script src='js/guide.js'></script>
</body>
